<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MARS STUDIOS LLC</title>
    <link rel="stylesheet" href='bootstrap.css'>

    <script>
        function myPlayBack() {
            //document.getElementById("display-msg").innerHTML= `<span style="color : red">Walkers Joined: 0</span>`;

            var audioElement1 = document.getElementById("my-audio-1");
            var audioElement2 = document.getElementById("my-audio-2");
            var audioElement3 = document.getElementById("my-audio-3");

            var startTime1 = document.getElementById("starting-time-1").value;
            var startTimeStep1 = startTime1 + 0.3;
            var endTime1 = document.getElementById("ending-time-1").value;
            var endTimeStep1 = endTime1 + 0.3;

            var startTime2 = document.getElementById("starting-time-2").value;
            var startTimeStep2 = startTime2 + 0.3;
            var endTime2 = document.getElementById("ending-time-2").value;
            var endTimeStep2 = endTime2 + 0.3;

            var startTime3 = document.getElementById("starting-time-3").value;
            var startTimeStep3 = startTime3 + 0.3;
            var endTime3 = document.getElementById("ending-time-3").value;
            var endTimeStep3 = endTime3 + 0.3;

            var newPath1 = "AlanWalkerAlone.mp3";
            var newPath2 = "AlanWalkerDarkside.mp3";
            var newPath3 = "AlanWalkerIgnite.mp3";

            var systemTime = 0;//begin at track 1

            audioElement1.load();
            audioElement1.currentTime = startTime1;

            audioElement2.load();
            audioElement2.currentTime = startTime2;

            audioElement3.load();
            audioElement3.currentTime = startTime3;

            //var myVar = setInterval(myTimer, 1000);

            /*
            function myTimer() {
                var d = new Date();
                var t = d.toLocaleTimeString();
                document.getElementById("demo").innerHTML = t;
            }

            function myStopFunction() {
                clearInterval(myVar);
            }
            */

            setInterval(function () {
                if (systemTime < endTime3) {//end timer at track 3 ending
                    systemTime = systemTime + 0.2;

                    executePlayCheck();
                }
                if (systemTime > endTimeStep3) {
                    alert("Time elapsed");
                }
                // add 1 sec every 1000 milliseconds
            }, 200);

            function executePlayCheck() {

                //console.log(systemTime);
                if (systemTime > 5 && systemTime < 14) {
                    document.getElementById("display-msg").innerHTML = `<span style="color : green; font-size: 30px">Walkers Joined: ${Math.round(systemTime)}</span>`;
                }

                if (systemTime > 16 && systemTime < 25) {
                    document.getElementById("display-msg").innerHTML = `<span style="color : green; font-size: 30px">Walkers Joined: ${Math.round(systemTime + 30)}</span>`;
                }

                if (systemTime > 28 && systemTime < 40) {
                    document.getElementById("display-msg").innerHTML = `<span style="color : green; font-size: 30px">Walkers Joined: ${Math.round(systemTime + 100)}</span>`;
                }

                if (systemTime > startTime1 && systemTime < startTimeStep1) {

                    audioElement1.play();
                    document.getElementById("track-1").setAttribute("style", "color: green;font-size: 20px; font-weight: bold");
                }

                if (systemTime > startTime2 && systemTime < startTimeStep2) {

                    audioElement2.play();
                    document.getElementById("track-2").setAttribute("style", "color: green;font-size: 20px; font-weight: bold");
                }
                if (systemTime > startTime3 && systemTime < startTimeStep3) {

                    audioElement3.play();
                    document.getElementById("track-3").setAttribute("style", "color: green;font-size: 20px; font-weight: bold ");
                }

                if (systemTime > endTime1 && systemTime < endTimeStep1) { //endTime is also a userdefined function variable
                    audioElement1.pause();
                    document.getElementById("track-1").setAttribute("style", "color: black;font-size: 15px");
                }

                if (systemTime > endTime2 && systemTime < endTimeStep2) { //endTime is also a userdefined function variable
                    audioElement2.pause();
                    document.getElementById("track-2").setAttribute("style", "color: black;font-size: 15px");
                }
                if (systemTime > endTime3 && systemTime < endTimeStep3) { //endTime is also a userdefined function variable
                    audioElement3.pause();
                    document.getElementById("track-3").setAttribute("style", "color: black;font-size: 15px");
                }

            }

        }


    </script>
    <style>
        .center {
            margin: auto;
            width: 60%;
            border: 5px solid black;
            padding: 10px;
        }
    </style>
</head>

<body>
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-5 offset-4">
                <div id="display-title-1">
                    <span style="color : blue; font-size : 50px">MARS STUDIOS LLC</span>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-md-5 offset-4">
                <div id="display-title-2">
                    <span style="color : blue; font-size : 30px">Track Name: <b>DECODED 2035</b></span>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-md-10 offset-2">
                <span>
                    <audio id="my-audio-1" controls>
                        <source src="AlanWalkerAlone.mp3" type="audio/mpeg">
                    </audio>
                </span>

                <span>
                    <audio id="my-audio-2" controls>
                        <source src="AlanWalkerDarkside.mp3" type="audio/mpeg">
                    </audio>
                </span>

                <span>
                    <audio id="my-audio-3" controls>
                        <source src="AlanWalkerIgnite.mp3" type="audio/mpeg">
                    </audio>
                </span>
            </div>

        </div>

        <div class="row">
            <div class="col-md-10 offset-3">
                <span id="track-1" style="font-size: 15px">
                    Now Playing: Alan Walker- Alone
                </span>

                <span id="track-2" style="font-size: 15px">
                    Now Playing: Alan Walker- Darkside
                </span>

                <span id="track-3" style="font-size: 15px">
                    Now Playing: Alan Walker- Ignite
                </span>
               
            </div>
            
        </div>

    </div>

    <div class="row">
        <div class="col-md-5 offset-4">
            <div id="display-msg">
                <span style="color : green; font-size : 30px">Walkers Joined: 0</span>
            </div>
        </div>
    </div>

    <hr>
    <div class="row">
        <div class="col-md-8 offset-3">
            <div>
                <label>
                    Track-1: Start Time <input type="number" placeholder="Enter start time" id="starting-time-1">
                </label>
                <label>
                    End Time <input type="number" placeholder="Enter end time" id="ending-time-1">
                </label>
            </div>

            <br>
            <div>
                <label>
                    Track-2: Start Time <input type="number" placeholder="Enter start time" id="starting-time-2">
                </label>
                <label>
                    End Time <input type="number" placeholder="Enter end time" id="ending-time-2">
                </label>
            </div>

            <br>

            <div>
                <label>
                    Track-2: Start Time <input type="number" placeholder="Enter start time" id="starting-time-3">
                </label>
                <label>
                    End Time <input type="number" placeholder="Enter end time" id="ending-time-3">
                </label>
            </div>

            <br>

        </div>
    </div>
    <div class="row">
        <div class="col-md-4 offset-4">
            <button class="btn btn-success" onclick="myPlayBack()">Invite</button>
        </div>
    </div>
    <br>
    <br>
    <div class="row">
        <div class="col-md-8 offset-4">
            <div id="display-title-3">
                <span style="color : blue; font-size : 15px">Location: Vizag, AP, India Date: June 25, 2021</span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-5 offset-4">
            <div id="display-title-3">
                <span style="color : blue; font-size : 15px">Developed in JavaScript by: @nikhil</span>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-5 offset-4">
            <div id="display-title-3">
                <span style="color : blue; font-size : 15px">GITHUB Handle: @nikhilchaitanya</span>
            </div>
        </div>
    </div>

    </div>


</body>

</html>